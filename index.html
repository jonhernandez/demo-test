<!DOCTYPE html>
<html lang="en-US">
  <head>
    <!-- Google Tag Manager - Main -->
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-KBFF27D');
    </script>
    <!-- End Google Tag Manager -->

    <!-- Google Tag Manager - Partner Demo-->
    <!-- <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-MZ9KLT4');
    </script> -->
    <!-- End Google Tag Manager -->

    <!-- standalone gtag script-->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- Matching reveal-gtag -> ga code block in the body -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140690463-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-140690463-2');
    </script> -->
    <!-- End standalone gtag-->

    <meta charset="utf-8">

    <title>Clearbit Demo and Testing Page</title>
    <link rel="icon" href="https://theme.zdassets.com/theme_assets/978257/920c5dc523ca1bb76148e7a4908249c54dddf234.png">

    <style>
      .container { width: 100%; text-align: center; }
      .container img { height: 250px; }
      .container button { margin: 15px 0; text-transform: uppercase; font-size: 1.10em; padding: 5px; }
    </style>
    <!-- Testing Standalone X Beta -->
    <!-- <script>!function(w){var clearbit=w.clearbit=w.clearbit||[];if(!clearbit.initialize)if(clearbit.invoked)w.console&&console.error&&console.error("Clearbit snippet included twice.");else{clearbit.invoked=!0;clearbit.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];clearbit.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);clearbit.push(e);return clearbit}};for(var t=0;t<clearbit.methods.length;t++){var e=clearbit.methods[t];clearbit[e]=clearbit.factory(e)}clearbit.load=function(t){var e=document.createElement("script");e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"x.clearbitjs.com/v1/"+t+"/clearbit-beta.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};clearbit.SNIPPET_VERSION="3.1.0";    clearbit.load("pk_6bb1103d8825e32f7139e4988ce0833e");    clearbit.page();  }}(window);
    </script> -->
  </head>

  <body>
    <!-- Google Tag Manager (noscript) - Main -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KBFF27D"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Google Tag Manager (noscript) - Partner Demo -->
    <!-- <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MZ9KLT4"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> -->
    <!-- End Google Tag Manager (noscript) -->
    <div class="navigation">
      <a href="index.html">Home</a>
      <a href="xforms.html">X-Forms</a>
      <a href="segment.html">Segment</a>
      <a href="datalayer_optimize.html">Datalayer & Optimize</a>
      <a href="intercom.html">Intercom</a>
      <a href="hubspot.html">HubSpot Embedded Forms</a>
      <a href="pardot.html">Pardot Embedded Forms</a>
    </div>
    <div class="container">
      <img src="https://cl.ly/719bff4b76ec/default_hero.jpg">
    </div>
    <div class="container">
      <button>sign up</button>
    </div>
    <!-- regular mkto form with dynamic enrichment -->
    <script src="//app-ab32.marketo.com/js/forms2/js/forms2.js"></script>
    <form id="mktoForm_1091"></form>
    <script>MktoForms2.loadForm("https://app-ab32.marketo.com", "797-LZE-483", 1091);</script>
    <!-- End regular mkto form -->

    <!-- Begin single-field form for reveal testing -->
    <!-- <script src="//app-ab32.marketo.com/js/forms2/js/forms2.min.js"></script>
    <form id="mktoForm_1190"></form>
    <script>MktoForms2.loadForm("//app-ab32.marketo.com", "797-LZE-483", 1190);</script> -->
    <!-- end single-field form -->

    <!-- Begin form for testing autofill functionality -->
    <!-- <script src="//app-ab32.marketo.com/js/forms2/js/forms2.min.js"></script>
    <form id="mktoForm_1183"></form>
    <script>MktoForms2.loadForm("//app-ab32.marketo.com", "797-LZE-483", 1183);</script> -->
    <!-- End form for testing autofill functionality -->

    <!-- Munchkin tracking code -->
    <script type="text/javascript">
      (function() {
        var didInit = false;
        function initMunchkin() {
          if(didInit === false) {
            didInit = true;
            Munchkin.init('797-LZE-483');
          }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
          if (this.readyState == 'complete' || this.readyState == 'loaded') {
            initMunchkin();
          }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
      })();
    </script>
    <!-- End Munchkin Tracking Code -->

    <!-- Marketo Forms Enrichment -->
    <!-- <script type="text/javascript">var pollForDefinition=function(scope,varname,callback){if(typeof scope[varname]!=="undefined"){return callback()}var interval=setInterval(function(){if(typeof scope[varname]!=="undefined"){clearInterval(interval);callback()}},250)};var script=document.createElement("script");script.src="https://marketo.clearbit.com/assets/v1/marketo/forms.js";script.async=true;script.setAttribute("data-clearbit-publishable-key", "pk_6bb1103d8825e32f7139e4988ce0833e");script.onerror=function(e){console.log("Clearbit Form JS unable to load");pollForDefinition(window,"MktoForms2",function(){MktoForms2.whenReady(function(form){form.setValues({clearbitFormStatus:"Clearbit Form JS unable to load"})})})};document.body.appendChild(script);</script> -->
    
    <!-- Marketo Forms dev env -->
    <!-- <script type="text/javascript">var pollForDefinition=function(scope,varname,callback){if(typeof scope[varname]!=="undefined"){return callback();} var interval=setInterval(function(){if(typeof scope[varname]!=="undefined"){clearInterval(interval);callback();}},250);};var script=document.createElement("script");script.src="https://marketo.dev.clearbit.io/assets/v1/marketo/forms.js";script.async=true;script.setAttribute("data-clearbit-publishable-key","pk_6bb1103d8825e32f7139e4988ce0833e");script.onerror=function(e){console.log("Clearbit Form JS unable to load");pollForDefinition(window,"MktoForms2",function(){MktoForms2.whenReady(function(form){form.setValues({clearbitFormStatus:"Clearbit Form JS unable to load"});});});};document.body.appendChild(script);</script> -->
    
    <!-- adding dev forms code to test on windows since the dev env is protected by VPN -->
    <script data-clearbit-publishable-key="pk_6bb1103d8825e32f7139e4988ce0833e">
      parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"CnlW":[function(require,module,exports) {
        !function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(n){var t=function(e,t){var r,a;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(r=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),a=r.preventDefault,r.preventDefault=function(){a.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(n){this.defaultPrevented=!0}},r};t.prototype=window.Event.prototype,window.CustomEvent=t}}();
        },{}],"veDn":[function(require,module,exports) {
        "use strict";function e(e,t){var r;return function(){var t=arguments,o=this,u=u||250;clearTimeout(r),r=setTimeout(function(){e.apply(o,t)},u)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
        },{}],"rJSC":[function(require,module,exports) {
        "use strict";function e(e,t,r){if(void 0!==e[t])return r();var o=setInterval(function(){void 0!==e[t]&&(clearInterval(o),r())},250)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
        },{}],"Magw":[function(require,module,exports) {
        "use strict";require("custom-event-polyfill");var e=r(require("../utility/debounce")),t=r(require("../utility/poll_for_definition"));function r(e){return e&&e.__esModule?e:{default:e}}(function(){window.Clearbit=window.Clearbit||{},window.Clearbit.Enrichment=window.Clearbit.Enrichment||{},window.Clearbit.Enrichment.Marketo={},window.Clearbit.Enrichment.Marketo.Forms=[],window.Clearbit.Enrichment.Marketo.FormFields={},window.Clearbit.Enrichment.Marketo.Setup=function(e){var t=document.querySelector("script[data-clearbit-publishable-key]");return!!t&&(window.Clearbit.PublishableKey=t.getAttribute("data-clearbit-publishable-key"),!0)};var r=function(e,t){var r=e.getAttribute("id"),i=void 0===window.Clearbit.Enrichment.Marketo.FormFields[r],n=t.clearbitFormStatus.split(",");if(i)window.Clearbit.Enrichment.Marketo.FormFields[r]=n;else{for(var o=window.Clearbit.Enrichment.Marketo.FormFields[r].filter(function(e){var t=-1===["Clearbit.Enrichment.Complete","clearbitStatus","clearbitEnrichedAt"].indexOf(e),r=-1===n.indexOf(e);return t&&r}),a=e.querySelectorAll("input[type=hidden]"),l=0;l<a.length;l++){var c=a[l].getAttribute("name");if(null!==c)if(o.includes(c)){var m=a[l];m.parentNode&&m.parentNode.removeChild(m)}}window.Clearbit.Enrichment.Marketo.FormFields[r]=n}};window.Clearbit.Enrichment.Marketo.Result=function(e,t){var i=["Clearbit.Enrichment.Complete"];for(var n in t)i.push(n);t.clearbitFormStatus=i.join(",");for(var o=0;o<window.Clearbit.Enrichment.Marketo.Forms.length;o++){var a=window.Clearbit.Enrichment.Marketo.Forms[o],l=a.getFormElem()[0];e==l.querySelector('input[name="Email"]').value&&(a.setValues(t),a.addHiddenFields(t),r(l,t),a.submittable(!0),document.dispatchEvent(new CustomEvent("clearbit-forms-marketo-enrichment-complete",{detail:{form:a}})))}};var i=(0,e.default)(function(e){var t=Number(e.target.form.querySelector('input[name="formid"]').value),r=window.Clearbit.Enrichment.Marketo.Forms.find(function(e){return e.getId()===t}),i=e.target.value;if(!i||i&&0==String(i).length)return!1;if(!/^.+@.+\..+$/.test(String(i)))return!1;i=encodeURIComponent(i);var n=window.Clearbit.PublishableKey,o="https://marketo.clearbit.com",a=document.querySelector("script[data-publishable-url]");a&&(o=a.getAttribute("data-publishable-url"));var l=document.createElement("script");l.type="text/javascript",l.src="".concat(o,"/marketo/v1/publishable-enrichment/person.js?authorization=").concat(n,"&email=").concat(i),l.onerror=function(){r.setValues({clearbitFormStatus:"Clearbit Enrichment Error"}),r.submittable(!0),document.dispatchEvent(new CustomEvent("clearbit-forms-marketo-enrichment-error",{detail:{form:r}}))},document.body.appendChild(l)},600);(0,t.default)(window,"MktoForms2",function(){MktoForms2.whenReady(function(e){try{!function(){performance.mark("mkto-end"),performance.measure("mkto","mkto-start","mkto-end");var e=performance.getEntriesByName("mkto");console.log("ms spent waiting on MktoForms2:",e[0].duration)}()}catch(r){}if(window.Clearbit.Enrichment.Marketo.Setup()){window.Clearbit.Enrichment.Marketo.Forms.push(e);var t=e.getFormElem()[0].querySelector('input[name="Email"]');t&&t.addEventListener("input",function(t){e.submittable(!1),i(t)})}else console.error?(console.error("Clearbit for Marketo Error"),console.error("Invalid API key. Sign into your dashboard and retrieve the correct publishable key at https://clearbit.com")):(console.log("Clearbit for Marketo Error"),console.log("Invalid API key. Sign into your dashboard and retrieve the correct publishable key at https://clearbit.com"))})})}).call(void 0);
        },{"custom-event-polyfill":"CnlW","../utility/debounce":"veDn","../utility/poll_for_definition":"rJSC"}]},{},["Magw"], null)
    </script>

    <!-- pre-fill email from query param -->
    <script>
      pollForDefinition(window,"MktoForms2",function(form) {
        const urlParams = new URLSearchParams(window.location.search);
        const emailParam = urlParams.get('my_email');
        if (emailParam) {
          form.setValues({"Email":emailParam});
        }
      })
    </script>

    <script>
      MktoForms2.whenReady(function(form) {
        form.onSuccess(function(values, followUpUrl) {
          clearbit.identify(values.Email, {
            "email": values.Email
          })
        })
      })
    </script>
    <!-- <script type="text/javascript" src="https://clearbitjs.com/v1/x/forms.js"></script>
    <div class="clearbit-form" data-form-id="632929e6-4532-4d82-b75a-5637ba11adcf" data-theme="default" ></div> -->

    <!-- Reveal into GA via analytics.js for property UA-140690463-2-->
    <!-- <script>
      var gaConfig = function(){
        var revealTrackingIds = ["UA-140690463-2"];
        var ga_trackers=[];
        ga(function(){
          ga.getAll().forEach(function(x,i){
            if(revealTrackingIds.indexOf(x.get('trackingId')) !== -1) {
              ga_trackers.push(x.get('name'))
            }
          });
          ga_trackers.forEach(function(gaName){
            ga(gaName + '.require', 'Clearbit', {
              "mapping": {
                "type":"dimension3",
                "companyName":"dimension4",
                "companyDomain":"dimension5",
                "companyIndustry":"dimension6",
                "companySubIndustry":"dimension7",
                "companyEmployeesRange":"dimension8",
                "companyEstimatedAnnualRevenue":"dimension9",
                "companyAlexaRank":"dimension10",
                "companyCity":"dimension11",
                "companyState":"dimension12",
                "companyCountry":"dimension13",
                "companySicCode":"dimension14",
                "companyTech":"dimension15"
              }
            });
          })
        });
      };
      let gaPollStart = Date.now()
      let gaPoll = setInterval(function() {
        if (typeof window.ga !== 'undefined') {
          clearInterval(gaPoll);
          gaConfig();
          var s = document.createElement("script");
          s.type = "text/javascript";
          s.src = "https://ga.clearbit.com/v1/ga.js?authorization=pk_5fdce9b9374f2f8a4f8c9f4a1546fa35";
          document.body.appendChild(s);
        }
        else if(Date.now() - gaPollStart > 2000) {
          clearInterval(gaPoll);
        }
      }, 100);
    </script> -->
    <!-- End Reveal into GA via analytics.js-->

    <!-- Reveal into GA via gtag.js-->
    <!-- <script src="https://reveal.clearbit.com/v1/companies/reveal?authorization=pk_5fdce9b9374f2f8a4f8c9f4a1546fa35&variable=reveal"></script>
    <script>
      let reveal_gtag_map = {
        'send_page_view': false,
        'custom_map': {
          'dimension1': 'type',
          'dimension2': 'companyName',
          'dimension3': 'companyDomain',
          'dimension4': 'companyIndustry',
          'dimension5': 'companySubIndustry',
          'dimension6': 'companyEmployeesRange',
          'dimension7': 'companyEstimatedAnnualRevenue',
          'dimension8': 'companyAlexaRank',
          'dimension9': 'companyCity',
          'dimension10': 'companyState',
          'dimension11': 'companyCountry',
          'dimension12': 'companySicCode',
          'dimension13': 'companyTech'
        }
      }
      
      // This line configures the tracking ID with the mapping
      gtag('config', 'UA-140690463-2', reveal_gtag_map);
      
      let reveal_data_map = {};
      let nonCompany = "(Non-Company)";
      
      if(reveal === null || reveal.company === null) {
        reveal_data_map = {
          'non_interaction': true,
          'type': reveal ? reveal.type : nonCompany,
          'companyName':nonCompany,
          'companyDomain':nonCompany,
          'companyIndustry':nonCompany,
          'companySubIndustry':nonCompany,
          'companyEmployeesRange':nonCompany,
          'companyEstimatedAnnualRevenue':nonCompany,
          'companyAlexaRank':nonCompany,
          'companyCity':nonCompany,
          'companyState':nonCompany,
          'companyCountry':nonCompany,
          'companySicCode':nonCompany,
          'companyTech':nonCompany
        };
      }
      else {
        let company = reveal.company;
      
        reveal_data_map = {
          'non_interaction': true,
          'type':reveal.type,
          'companyName':company.name,
          'companyDomain':company.domain,
          'companyIndustry':company.category.industry,
          'companySubIndustry':company.category.subIndustry,
          'companyEmployeesRange':company.metrics.employeesRange,
          'companyEstimatedAnnualRevenue':company.metrics.estimatedAnnualRevenue,
          'companyAlexaRank':company.metrics.alexaGlobalRank,
          'companyCity':company.geo.city,
          'companyState':company.geo.state,
          'companyCountry':company.geo.country,
          'companySicCode':company.category.sicCode,
          'companyTech':company.tech
        };
      }
      
      gtag('event', 'Clearbit', reveal_data_map);
    </script> -->
    <!--End Reveal to GA via gtag.js-->  

    <!-- Reveal Personalization -->
    <!-- <script async src="https://reveal.clearbit.com/v1/companies/reveal?variable=reveal&authorization=pk_5fdce9b9374f2f8a4f8c9f4a1546fa35"></script> -->

  </body>
</html>
